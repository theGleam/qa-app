(this["webpackJsonpqa-app"]=this["webpackJsonpqa-app"]||[]).push([[0],{40:function(e,t,n){e.exports=n(80)},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(4),s=n(5),i=n(7),r=n(6),o=n(0),c=n.n(o),l=n(15),u=n.n(l),d=n(2),p=n(11),h=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return c.a.createElement("header",{id:"header"},c.a.createElement(p.b,{to:"/",id:"logo"},c.a.createElement("h2",null,"Questions App")))}}]),n}(o.Component),m=n(1),w=n(21),f=n.n(w),g=n(23),v=n(10),y=n(17),b=n(83),E={questions:[{id:1,timestamp:8113968e5,title:"How to be good?",popularity:0,answers:[]},{id:2,timestamp:11087028e5,title:"Is there life after death?",popularity:0,answers:[]},{id:3,timestamp:11565648e5,title:"Who is God?",popularity:0,answers:[]},{id:4,timestamp:12564432e5,title:"Why do I like Girls?",popularity:0,answers:[]},{id:5,timestamp:12869424e5,title:"How can I make a girl want to have sex with me?",popularity:0,answers:[]},{id:6,timestamp:13316976e5,title:"How to do in know she loves me?",popularity:0,answers:[]},{id:7,timestamp:13698e8,title:"Why am I on earth?",popularity:0,answers:[]}]},q=function(e,t){var n,a,s=[];switch(t.type){case"addQuestion":s=e.questions,console.log(s),console.log(typeof s);var i={id:Math.max.apply(Math,Object(y.a)(s.map((function(e){return e.id}))))+1,timestamp:(new Date).getTime(),title:t.question,popularity:0,answers:[]};return s.push(i),{questions:s};case"addAnswer":return{questions:s=(s=e.questions).map((function(e){if(e.id.toString()===t.questionID.toString()){console.log("wegor here!");var n={id:function(e){console.log(e);var t=e.map((function(e){return e.id}));return Math.max.apply(Math,Object(y.a)(t))+1}(e.answers),timestamp:(new Date).getTime(),title:t.answer,popularity:0};e.answers.push(n)}return e}))};case"deleteAnswer":return{questions:s=(s=e.questions).map((function(e){if(e.id.toString()===t.questionID.toString()){var n=e.answers,a=n.find((function(e){return e.id===t.answerID}));if(a){var s=n.indexOf(a);n.splice(s,1)}e.answers=n}return e}))};case"upVoteAnswer":return{questions:s=(s=e.questions).map((function(e){return e.id.toString()===t.questionID.toString()&&e.answers.map((function(e){return e.id===t.answerID&&(e.popularity+=1),e})),e}))};case"downVoteAnswer":return{questions:s=(s=e.questions).map((function(e){return e.id.toString()===t.questionID.toString()&&e.answers.map((function(e){return e.id===t.answerID&&(e.popularity-=1),e})),e}))};case"deleteQuestion":return n=(s=e.questions).find((function(e){return e.id===t.questionID})),console.log(n),n&&(a=s.indexOf(n),console.log(a),s.splice(a,1)),{questions:s};case"upVoteQuestion":return n=(s=e.questions).find((function(e){return e.id===t.questionID})),a=s.indexOf(n),n&&(s[a].popularity+=1),{questions:s};case"downVoteQuestion":return n=(s=e.questions).find((function(e){return e.id===t.questionID})),a=s.indexOf(n),n&&(s[a].popularity-=1),{questions:s};case"updateAnswers":return n=(s=e.questions).find((function(e){return e.id===t.questionID})),a=s.indexOf(n),n&&(s[a].answers=t.answers),{questions:s};case"updateQuestions":return{questions:t.questions};default:throw new Error("unknown action type")}},k=Object(b.a)((function(){return Object(o.useReducer)(q,E)})),S=k.Provider,A=k.useTracked,O=function(e){return function(t){var n=A(),a=Object(v.a)(n,2),s=a[0],i=a[1];return c.a.createElement(e,Object.assign({questionsState:s,dispatch:i},t))}},j=n(39),Q=n.n(j),I=function(e){var t=e.clickHandler,n=e.text,a=e.icon,s=e.active,i=e.large,r=Q()({"button-toggle":!0,"no-icon":!a,active:s,large:i}),o="fa fa-fw fa-".concat(a);return c.a.createElement("button",{className:r,onClick:t},c.a.createElement("i",{className:o}),n)},V=n(22),x=n.n(V),N=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e="list-item card ".concat(this.props.view),t={zIndex:100-this.props.index};return c.a.createElement("li",{id:this.props.id,className:e,style:t},c.a.createElement(p.b,{to:"/question/".concat(this.props.id)},c.a.createElement("div",null,c.a.createElement("h3",null,this.props.title),c.a.createElement("h5",null,x()(this.props.timestamp).format("Do MMM, YYYY")),c.a.createElement("h5",null,"Popularity: ",this.props.popularity),c.a.createElement("h5",null,"Answers: ",this.props.answers.length))),c.a.createElement("div",{className:"button-container"},c.a.createElement("button",{onClick:this.props.upVote},c.a.createElement("i",{className:"fa fa-arrow-up"})),c.a.createElement("button",{onClick:this.props.downVote},c.a.createElement("i",{className:"fa fa-arrow-down"})),c.a.createElement("button",{onClick:this.props.deleteQuestion},c.a.createElement("i",{className:"fa fa-close"}))))}}]),n}(o.Component),M=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).state={newQuestion:""},s}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t="list-item card ".concat(this.props.view);return c.a.createElement("li",{id:"qinput",className:t,style:{zIndex:100}},c.a.createElement("div",{className:"col col-3 input-area"},c.a.createElement("h5",{className:"field-name"},"New Question"),c.a.createElement("div",{className:"input"},c.a.createElement("input",{type:"text",value:this.state.newQuestion,onChange:function(t){return e.setState({newQuestion:t.target.value})}}))),c.a.createElement("button",{disabled:!this.state.newQuestion.trim(),onClick:function(t){e.props.clickHandler(e.state.newQuestion),e.setState({newQuestion:""})}},c.a.createElement("i",{className:"fa fa-add"})))}}]),n}(o.Component),D=(n(77),O(function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).state={view:"list",order:"asc",sortingMethod:"chronological",enterLeaveAnimation:"accordionVertical",questions:s.props.questionsState.questions},s.toggleList=s.toggleList.bind(Object(m.a)(s)),s.toggleGrid=s.toggleGrid.bind(Object(m.a)(s)),s.toggleSortByAnswers=s.toggleSortByAnswers.bind(Object(m.a)(s)),s.toggleSortByTimestamp=s.toggleSortByTimestamp.bind(Object(m.a)(s)),s.toggleSortByPopularity=s.toggleSortByPopularity.bind(Object(m.a)(s)),s.sortRotate=s.sortRotate.bind(Object(m.a)(s)),s.sortShuffle=s.sortShuffle.bind(Object(m.a)(s)),s.newQuestion=s.newQuestion.bind(Object(m.a)(s)),s.upVoteQuestion=s.upVoteQuestion.bind(Object(m.a)(s)),s.deleteQuestion=s.deleteQuestion.bind(Object(m.a)(s)),s.downVoteQuestion=s.downVoteQuestion.bind(Object(m.a)(s)),s}return Object(s.a)(n,[{key:"toggleList",value:function(){this.setState({view:"list",enterLeaveAnimation:"accordionVertical"})}},{key:"toggleGrid",value:function(){this.setState({view:"grid",enterLeaveAnimation:"accordionHorizontal"})}},{key:"toggleSortByAnswers",value:function(){this.setState({order:"asc"===this.state.order?"desc":"asc",sortingMethod:"answers",questions:this.state.questions.sort("asc"===this.state.order?function(e,t){return t.answers.length-e.answers.length}:function(e,t){return e.answers.length-t.answers.length})})}},{key:"toggleSortByPopularity",value:function(){this.setState({order:"asc"===this.state.order?"desc":"asc",sortingMethod:"popularity",questions:this.state.questions.sort("asc"===this.state.order?function(e,t){return t.popularity-e.popularity}:function(e,t){return e.popularity-t.popularity})})}},{key:"toggleSortByTimestamp",value:function(){this.setState({order:"asc"===this.state.order?"desc":"asc",sortingMethod:"chronological",questions:this.state.questions.sort("asc"===this.state.order?function(e,t){return t.timestamp-e.timestamp}:function(e,t){return e.timestamp-t.timestamp})})}},{key:"sortShuffle",value:function(){this.setState({sortingMethod:"shuffle",questions:f()(this.state.questions)})}},{key:"sortRotate",value:function(){var e=this.state.questions.slice();e.unshift(e.pop()),this.setState({sortingMethod:"rotate",questions:e})}},{key:"renderQuestions",value:function(){var e=this;return this.state.questions.map((function(t,n){return c.a.createElement(N,Object.assign({key:t.id,view:e.state.view,index:n,upVote:function(){return e.upVoteQuestion(t.id)},downVote:function(){return e.downVoteQuestion(t.id)},deleteQuestion:function(){return e.deleteQuestion(t.id)}},t))}))}},{key:"newQuestion",value:function(e){(0,this.props.dispatch)({question:e,type:"addQuestion"});var t=this.state.questions;this.setState({questions:t})}},{key:"upVoteQuestion",value:function(e){var t=this.props.dispatch;console.log(e),t({questionID:e,type:"upVoteQuestion"});var n=this.state.questions;this.setState({questions:n})}},{key:"deleteQuestion",value:function(e){var t=this.props.dispatch;console.log(e),t({questionID:e,type:"deleteQuestion"});var n=this.state.questions;console.log(n),console.log(n.length),this.setState({questions:n})}},{key:"downVoteQuestion",value:function(e){var t=this.props.dispatch;console.log(e),t({questionID:e,type:"downVoteQuestion"});var n=this.state.questions;this.setState({questions:n})}},{key:"render",value:function(){var e=this.props.location.pathname.includes("question");return c.a.createElement("div",{id:"questions",className:"".concat(this.state.view," ").concat(e?"hide":"")},c.a.createElement("header",{id:"header"},c.a.createElement("h2",null,"Questions (",this.state.questions.length,")")),c.a.createElement("header",null,c.a.createElement("div",{className:"abs-left"},c.a.createElement(I,{clickHandler:this.toggleList,text:"List",icon:"list",active:"list"===this.state.view}),c.a.createElement(I,{clickHandler:this.toggleGrid,text:"Grid",icon:"th",active:"grid"===this.state.view})),c.a.createElement("div",{className:"abs-right"},c.a.createElement(I,{clickHandler:this.toggleSortByPopularity,text:"Popularity",icon:"asc"===this.state.order?"angle-up":"angle-down",active:"popularity"===this.state.sortingMethod}),c.a.createElement(I,{clickHandler:this.toggleSortByAnswers,text:"Answers",icon:"asc"===this.state.order?"angle-up":"angle-down",active:"answers"===this.state.sortingMethod}),c.a.createElement(I,{clickHandler:this.toggleSortByTimestamp,text:"Date",icon:"asc"===this.state.order?"angle-up":"angle-down",active:"chronological"===this.state.sortingMethod}),c.a.createElement(I,{clickHandler:this.sortShuffle,text:"Shuffle",icon:"random",active:"shuffle"===this.state.sortingMethod}),c.a.createElement(I,{clickHandler:this.sortRotate,text:"Rotate",icon:"refresh",active:"rotate"===this.state.sortingMethod}))),c.a.createElement("div",null,c.a.createElement(g.a,{staggerDurationBy:"30",duration:500,enterAnimation:this.state.enterLeaveAnimation,leaveAnimation:this.state.enterLeaveAnimation,typeName:"ul"},this.renderQuestions(),c.a.createElement(M,{key:"qinput",view:this.state.view,index:this.state.questions.length,clickHandler:this.newQuestion}))))}}]),n}(o.Component))),B=(n(78),function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e="list-item card ".concat(this.props.view),t={zIndex:100-this.props.index};return c.a.createElement("li",{id:this.props.id,className:e,style:t},c.a.createElement("div",null,c.a.createElement("h3",null,this.props.title),c.a.createElement("h5",null,x()(this.props.timestamp).format("Do MMM, YYYY")),c.a.createElement("h5",null,"Popularity: ",this.props.popularity)),c.a.createElement("div",{className:"button-container"},c.a.createElement("button",{onClick:this.props.upVote},c.a.createElement("i",{className:"fa fa-arrow-up"})),c.a.createElement("button",{onClick:this.props.downVote},c.a.createElement("i",{className:"fa fa-arrow-down"})),c.a.createElement("button",{onClick:this.props.deleteAnswer},c.a.createElement("i",{className:"fa fa-close"}))))}}]),n}(o.Component)),H=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).state={newAnswer:""},s}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t="list-item card ".concat(this.props.view);return c.a.createElement("li",{id:"qinput",className:t,style:{zIndex:100}},c.a.createElement("div",{className:"col col-3 input-area"},c.a.createElement("h5",{className:"field-name"},"New Answer"),c.a.createElement("div",{className:"input"},c.a.createElement("input",{type:"text",value:this.state.newAnswer,onChange:function(t){return e.setState({newAnswer:t.target.value})}}))),c.a.createElement("button",{disabled:!this.state.newAnswer.trim(),onClick:function(t){e.props.clickHandler(e.state.newAnswer),e.setState({newAnswer:""})}},c.a.createElement("i",{className:"fa fa-add"})))}}]),n}(o.Component),L=(n(79),O(function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e){var s;Object(a.a)(this,n),s=t.call(this,e);var i=e.match.params.id;return s.state={questionId:i,view:"list",order:"asc",sortingMethod:"chronological",enterLeaveAnimation:"accordionVertical",questions:s.props.questionsState.questions,answers:[]},s.toggleList=s.toggleList.bind(Object(m.a)(s)),s.toggleGrid=s.toggleGrid.bind(Object(m.a)(s)),s.toggleSortByTimestamp=s.toggleSortByTimestamp.bind(Object(m.a)(s)),s.toggleSortByPopularity=s.toggleSortByPopularity.bind(Object(m.a)(s)),s.sortRotate=s.sortRotate.bind(Object(m.a)(s)),s.sortShuffle=s.sortShuffle.bind(Object(m.a)(s)),s.newAnswer=s.newAnswer.bind(Object(m.a)(s)),s.upVoteAnswer=s.upVoteAnswer.bind(Object(m.a)(s)),s.deleteAnswer=s.deleteAnswer.bind(Object(m.a)(s)),s.downVoteAnswer=s.downVoteAnswer.bind(Object(m.a)(s)),s.getAnswers=s.getAnswers.bind(Object(m.a)(s)),s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.setState({answers:this.getAnswers})}},{key:"getAnswers",value:function(){var e=this;return this.state.questions.find((function(t){return t.id.toString()===e.state.questionId.toString()})).answers}},{key:"toggleList",value:function(){this.setState({view:"list",enterLeaveAnimation:"accordionVertical"})}},{key:"toggleGrid",value:function(){this.setState({view:"grid",enterLeaveAnimation:"accordionHorizontal"})}},{key:"toggleSortByPopularity",value:function(){this.setState({order:"asc"===this.state.order?"desc":"asc",sortingMethod:"popularity",answers:this.state.answers.sort("asc"===this.state.order?function(e,t){return t.popularity-e.popularity}:function(e,t){return e.popularity-t.popularity})})}},{key:"toggleSortByTimestamp",value:function(){this.setState({order:"asc"===this.state.order?"desc":"asc",sortingMethod:"chronological",answers:this.state.answers.sort("asc"===this.state.order?function(e,t){return t.timestamp-e.timestamp}:function(e,t){return e.timestamp-t.timestamp})})}},{key:"sortShuffle",value:function(){this.setState({sortingMethod:"shuffle",answers:f()(this.state.answers)})}},{key:"sortRotate",value:function(){var e=this.state.answers.slice();e.unshift(e.pop()),this.setState({sortingMethod:"rotate",answers:e})}},{key:"renderAnswers",value:function(){var e=this;return this.getAnswers().map((function(t,n){return c.a.createElement(B,Object.assign({key:t.id,view:e.state.view,index:n,upVote:function(){return e.upVoteAnswer(t.id)},downVote:function(){return e.downVoteAnswer(t.id)},deleteAnswer:function(){return e.deleteAnswer(t.id)}},t))}))}},{key:"newAnswer",value:function(e){(0,this.props.dispatch)({questionID:this.state.questionId,answer:e,type:"addAnswer"});var t=this.getAnswers();this.setState({answers:t})}},{key:"upVoteAnswer",value:function(e){(0,this.props.dispatch)({questionID:this.state.questionId,answerID:e,type:"upVoteAnswer"});var t=this.getAnswers();this.setState({answers:t})}},{key:"deleteAnswer",value:function(e){(0,this.props.dispatch)({questionID:this.state.questionId,answerID:e,type:"deleteAnswer"});var t=this.getAnswers();this.setState({answers:t})}},{key:"downVoteAnswer",value:function(e){(0,this.props.dispatch)({questionID:this.state.questionId,answerID:e,type:"downVoteAnswer"});var t=this.getAnswers();this.setState({answers:t})}},{key:"render",value:function(){var e=this,t=this.state.questions.find((function(t){return t.id.toString()===e.state.questionId}));return c.a.createElement("div",{id:"answers",className:this.state.view},c.a.createElement("header",{id:"header"},c.a.createElement("h2",null,'Anwsers for "'.concat(t.title,'" (').concat(t.answers.length,")"))),c.a.createElement("header",null,c.a.createElement("div",{className:"abs-left"},c.a.createElement(p.b,{to:"/"},c.a.createElement(I,{clickHandler:this.toggleGrid,text:"Back",icon:"th",active:"grid"===this.state.view})),c.a.createElement(I,{clickHandler:this.toggleList,text:"List",icon:"list",active:"list"===this.state.view})),c.a.createElement("div",{className:"abs-right"},c.a.createElement(I,{clickHandler:this.toggleSortByPopularity,text:"Popularity",icon:"asc"===this.state.order?"angle-up":"angle-down",active:"popularity"===this.state.sortingMethod}),c.a.createElement(I,{clickHandler:this.toggleSortByTimestamp,text:"Date",icon:"asc"===this.state.order?"angle-up":"angle-down",active:"chronological"===this.state.sortingMethod}),c.a.createElement(I,{clickHandler:this.sortShuffle,text:"Shuffle",icon:"random",active:"shuffle"===this.state.sortingMethod}),c.a.createElement(I,{clickHandler:this.sortRotate,text:"Rotate",icon:"refresh",active:"rotate"===this.state.sortingMethod}))),c.a.createElement("div",null,c.a.createElement(g.a,{staggerDurationBy:"30",duration:500,enterAnimation:this.state.enterLeaveAnimation,leaveAnimation:this.state.enterLeaveAnimation,typeName:"ul"},this.renderAnswers(),c.a.createElement(H,{key:"ainput",view:this.state.view,index:this.state.answers.length,clickHandler:this.newAnswer}))))}}]),n}(o.Component))),C=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"availablePaths",value:function(){return this.props.route.childRoutes.map((function(e){return e.path}))}},{key:"currentPath",value:function(){return this.props.location.pathname.replace(/^\//,"")}},{key:"render",value:function(){return c.a.createElement("div",{className:"app"},c.a.createElement(h,{paths:this.availablePaths(),path:this.currentPath()}),c.a.createElement("section",{id:"main-content"},this.props.children))}}]),n}(o.Component);u.a.render(c.a.createElement(p.a,null,c.a.createElement(S,null,c.a.createElement(d.a,{path:"/",component:C},c.a.createElement(d.a,{component:D}),c.a.createElement(d.a,{path:"/question/:id",component:L})))),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.93f7f59e.chunk.js.map